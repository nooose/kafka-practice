# 카프카 핵심 가이드

카프카 핵심 가이드 내용을 스프링부트 애플리케이션과 함께 실습할 수 있다.

# 프로듀서 옵션(`spring.kafka.producer`)
- `acks`
  - `0`: 브로커의 응답을 기다리지 않는다.
  - `1`: 리더 레플리카 메시지를 받는 순간 브로커로부터 성공했다는 응답을 받는다.
  - `-1(all)`: 인 싱크 레플리카에 전달된 뒤에야 브로커로부터 성공했다는 응답을 받는다.

  - `properties`
    - `max.in.flight.per.connection`: 서버로 부터 응답을 받지 못한 상태에서 전송할 수 있는 최대 메시지의 수
    - `retries`: 재전송하는 횟수
    - `enable.idempotence`: 멱등적 프로듀서, 레코드를 보낼 때 마다 순차적인 번호를 붙여서 보낸다. 만약 동일한 번호를 가진 레코드를 2개 이상 받을 경우 하나만 저장한다.
      - 아래 옵션을 만족해야한다.
      - `acks`: all 
      - `max.in.flight.per.connection` 5 이하
      - `retries` 1 이상
